# ğŸ”„ ì „ë ¥ì‚°ì—… ë‰´ìŠ¤ ìë™í™” í”Œë¡œìš° ê³„íš

## ğŸ“… ì‘ì„± ì •ë³´
- **ì‘ì„±ì¼**: 2025ë…„ 6ì›” 9ì¼
- **í”„ë¡œì íŠ¸ëª…**: ì „ë ¥ì‚°ì—… ë‰´ìŠ¤ í¬ë¡¤ë§ â†’ ì¹´ë“œë‰´ìŠ¤ ìë™í™”
- **ëª©í‘œ**: í¬ë¡¤ë§ë¶€í„° ì¹´ë“œë‰´ìŠ¤ ì œì‘ê¹Œì§€ ì™„ì „ ìë™í™”

## ğŸ¯ ì „ì²´ í”Œë¡œìš° ê°œìš”

```mermaid
graph LR
    A[ì „ê¸°ì‹ ë¬¸ í¬ë¡¤ë§] --> B[í‚¤ì›Œë“œ/ìš”ì•½ ìƒì„±]
    B --> C[ë…¸ì…˜ ì €ì¥]
    C --> D[ì‚¬ìš©ì ê´€ì‹¬ ì²´í¬]
    D --> E[ì¹´ë“œë‰´ìŠ¤ ì œì‘]
    E --> F[ìš”ì•½ í˜ì´ì§€ ì—…ë°ì´íŠ¸]
```

## ğŸ“‹ ìƒì„¸ ë‹¨ê³„ë³„ í”„ë¡œì„¸ìŠ¤

### 1ï¸âƒ£ **í¬ë¡¤ë§ ë‹¨ê³„** (ê¸°ì¡´ ì½”ë“œ í™œìš©)
- **ì‹¤í–‰**: `python main.py`
- **ëŒ€ìƒ**: ì „ê¸°ì‹ ë¬¸ (https://www.electimes.com)
- **í•„í„°ë§**: 
  - ìµœê·¼ 3ì¼ ì´ë‚´ ê¸°ì‚¬
  - í‚¤ì›Œë“œ ë§¤ì¹­ (ì¬ìƒì—ë„ˆì§€, VPP, ESS, íƒœì–‘ê´‘ ë“±)
  - AI ì¶”ì²œ ëª¨ë¸ í•„í„°ë§ (ì„ íƒì )
- **ì¶œë ¥**: ê¸°ì‚¬ ì œëª©, URL, ë³¸ë¬¸, ë‚ ì§œ, ì¶œì²˜

### 2ï¸âƒ£ **LLM ì²˜ë¦¬ ë‹¨ê³„** (Local LLM - Gemma2)
- **ë„êµ¬**: Ollama + Gemma2:9b-instruct-q5_K_M
- **ì²˜ë¦¬ ë‚´ìš©**:
  ```python
  # ai_update_content.py ìˆ˜ì •
  summary = generate_one_line_summary_with_llm(content, use_llm=True)  # LLM í™œì„±í™”
  key_content = generate_key_content(content, use_llm=True)
  ```
- **ìƒì„± í•­ëª©**:
  - í•œì¤„ìš”ì•½: 100-300ì
  - í•µì‹¬ë‚´ìš©: 3-5ê°œ í¬ì¸íŠ¸
  - í‚¤ì›Œë“œ: ìë™ ì¶”ì¶œ

### 3ï¸âƒ£ **ë…¸ì…˜ ì—°ë™ ë‹¨ê³„**
- **ë°ì´í„°ë² ì´ìŠ¤**: "ì „ë ¥ ì‚°ì—… ë‰´ìŠ¤ YYYYë…„ WWì£¼ì°¨"
- **ì €ì¥ í•„ë“œ**:
  - ì œëª©, ì¶œì²˜, ë‚ ì§œ
  - í‚¤ì›Œë“œ (multi_select)
  - í•œì¤„ìš”ì•½, í•µì‹¬ ë‚´ìš©
  - ë°”ë¡œê°€ê¸° (URL)
  - ê´€ì‹¬ (checkbox) â† ì‚¬ìš©ì ì…ë ¥
  - AIì¶”ì²œ (checkbox)

### 4ï¸âƒ£ **ì‚¬ìš©ì í”¼ë“œë°± ë‹¨ê³„** â¸ï¸ (ìˆ˜ë™)
- **ì‘ì—…**: ë…¸ì…˜ì—ì„œ ê´€ì‹¬ ìˆëŠ” ê¸°ì‚¬ì— ì²´í¬ë°•ìŠ¤ í‘œì‹œ
- **ì£¼ê¸°**: ì¼ì¼/ì£¼ê°„ ë‹¨ìœ„ë¡œ ê²€í† 
- **ìë™í™” ë°©ì•ˆ** (ì„ íƒì ):
  - ë…¸ì…˜ Webhook í™œìš©
  - ì£¼ê¸°ì  í´ë§ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ ê°ì§€

### 5ï¸âƒ£ **ì¹´ë“œë‰´ìŠ¤ ì œì‘ ë‹¨ê³„** ğŸ¨ (Claude AI)
- **íŠ¸ë¦¬ê±°**: ê´€ì‹¬ ì²´í¬ë°•ìŠ¤ê°€ Trueì¸ ê¸°ì‚¬ ê°ì§€
- **êµ¬í˜„ ë°©ë²•**:

#### ë°©ë²• 1: Claude API í™œìš© (ì™„ì „ ìë™í™”)
```python
# card_news_generator.py (ì‹ ê·œ)
import anthropic

class CardNewsGenerator:
    def __init__(self):
        self.client = anthropic.Anthropic(api_key=ANTHROPIC_API_KEY)
        
    def generate_card_news(self, article_data):
        prompt = f"""
        ë‹¤ìŒ ê¸°ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ HTML ì¹´ë“œë‰´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
        
        ì œëª©: {article_data['title']}
        í•œì¤„ìš”ì•½: {article_data['summary']}
        í•µì‹¬ë‚´ìš©: {article_data['key_points']}
        
        ìš”êµ¬ì‚¬í•­:
        - ë‹¤í¬ í…Œë§ˆ (#0a0a0a ë°°ê²½)
        - ì£¼ì œì— ë§ëŠ” ìƒ‰ìƒ í…Œë§ˆ
        - ì¸í„°ë™í‹°ë¸Œ ì• ë‹ˆë©”ì´ì…˜
        - ì°¨íŠ¸/íƒ€ì„ë¼ì¸ í¬í•¨
        """
        
        response = self.client.messages.create(
            model="claude-3-opus-20240229",
            messages=[{"role": "user", "content": prompt}]
        )
        
        return response.content
```

#### ë°©ë²• 2: í…œí”Œë¦¿ ê¸°ë°˜ + Claude API (í•˜ì´ë¸Œë¦¬ë“œ)
```python
# ê¸°ë³¸ í…œí”Œë¦¿ êµ¬ì¡° ì •ì˜
CARD_NEWS_TEMPLATE = """
<!DOCTYPE html>
<html lang="ko">
<head>
    <title>{title}</title>
    <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ -->
</head>
<body>
    <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
    {hero_section}
    
    <!-- í•µì‹¬ ì¸ì‚¬ì´íŠ¸ -->
    {key_insights}
    
    <!-- ë°ì´í„° ì‹œê°í™” -->
    {data_visualization}
    
    <!-- ì „ë§ -->
    {outlook}
</body>
</html>
"""

# Claude APIë¡œ ê° ì„¹ì…˜ ìƒì„±
```

#### ë°©ë²• 3: ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤ (ë°˜ìë™)
- Streamlit/Gradio ì›¹ UI êµ¬ì¶•
- ê´€ì‹¬ ê¸°ì‚¬ ëª©ë¡ í‘œì‹œ
- í´ë¦­ ì‹œ Claudeì™€ ëŒ€í™”í•˜ë©° ì¹´ë“œë‰´ìŠ¤ ìƒì„±
- ë¯¸ë¦¬ë³´ê¸° ë° ìˆ˜ì • ê¸°ëŠ¥

### 6ï¸âƒ£ **ìš”ì•½ í˜ì´ì§€ ì—…ë°ì´íŠ¸**
- **íŒŒì¼**: `enhanced_summary_YYYYMMDD_HHMMSS.html`
- **ì—…ë°ì´íŠ¸ ë‚´ìš©**:
  - ìƒˆë¡œìš´ ì¹´ë“œë‰´ìŠ¤ ë§í¬ ì¶”ê°€
  - ì¹´ë“œ ë””ìì¸ ì¼ê´€ì„± ìœ ì§€
  - í•„í„°/ì •ë ¬ ê¸°ëŠ¥ ì—…ë°ì´íŠ¸

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ
- **í¬ë¡¤ë§**: Selenium, BeautifulSoup, requests
- **LLM**: Ollama + Gemma2 (ë¡œì»¬)
- **ë…¸ì…˜**: notion-client Python SDK
- **ì¹´ë“œë‰´ìŠ¤**: 
  - Claude API (anthropic Python SDK)
  - HTML/CSS/JavaScript
  - Pretendard í°íŠ¸

### ì¶”ê°€ í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬
```bash
pip install anthropic  # Claude API
pip install streamlit  # ì›¹ UI (ì„ íƒì )
pip install watchdog   # íŒŒì¼ ë³€ê²½ ê°ì§€ (ì„ íƒì )
```

## ğŸ“Š ìë™í™” ë ˆë²¨

### Level 1: ê¸°ë³¸ ìë™í™” (í˜„ì¬)
- âœ… í¬ë¡¤ë§ â†’ LLM ìš”ì•½ â†’ ë…¸ì…˜ ì €ì¥
- âŒ ìˆ˜ë™: ê´€ì‹¬ ì²´í¬, ì¹´ë“œë‰´ìŠ¤ ì œì‘

### Level 2: ë¶€ë¶„ ìë™í™” (ê¶Œì¥)
- âœ… í¬ë¡¤ë§ â†’ LLM ìš”ì•½ â†’ ë…¸ì…˜ ì €ì¥
- âœ… ê´€ì‹¬ ê¸°ì‚¬ ê°ì§€ â†’ ì•Œë¦¼
- âš¡ ë°˜ìë™: ì¹´ë“œë‰´ìŠ¤ ì œì‘ (ì›¹ UI + Claude)

### Level 3: ì™„ì „ ìë™í™”
- âœ… ì „ì²´ í”„ë¡œì„¸ìŠ¤ ìë™í™”
- âœ… Claude APIë¡œ ì¹´ë“œë‰´ìŠ¤ ìë™ ìƒì„±
- âš ï¸ ë†’ì€ API ë¹„ìš©, í’ˆì§ˆ ê´€ë¦¬ ì–´ë ¤ì›€

## ğŸ’° ë¹„ìš© ë¶„ì„

### Claude API ë¹„ìš© (2025ë…„ 6ì›” ê¸°ì¤€)
- Claude 3 Opus: 
  - Input: $15 / 1M tokens
  - Output: $75 / 1M tokens
- ì˜ˆìƒ ë¹„ìš© (ê¸°ì‚¬ë‹¹):
  - Input: ~2,000 tokens Ã— $0.015 = $0.03
  - Output: ~5,000 tokens Ã— $0.075 = $0.375
  - **ê¸°ì‚¬ë‹¹ ì•½ $0.40 (ì•½ 550ì›)**

### ì›”ê°„ ì˜ˆìƒ ë¹„ìš©
- ì¼ 5ê°œ ê¸°ì‚¬ Ã— 30ì¼ = 150ê°œ
- 150ê°œ Ã— $0.40 = **$60/ì›” (ì•½ 82,500ì›)**

## ğŸš€ êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ê¸°ì¡´ ì‹œìŠ¤í…œ ê°œì„  (1ì£¼)
1. LLM ìš”ì•½ ê¸°ëŠ¥ í™œì„±í™” (`use_llm=True`)
2. ê´€ì‹¬ ê¸°ì‚¬ ê°ì§€ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
3. ê¸°ë³¸ í…œí”Œë¦¿ ì‹œìŠ¤í…œ êµ¬ì¶•

### Phase 2: Claude API ì—°ë™ (1ì£¼)
1. Anthropic API ì„¤ì •
2. ì¹´ë“œë‰´ìŠ¤ ìƒì„± ëª¨ë“ˆ ê°œë°œ
3. í…œí”Œë¦¿ + AI í•˜ì´ë¸Œë¦¬ë“œ êµ¬í˜„

### Phase 3: UI ë° ìë™í™” (2ì£¼)
1. Streamlit ì›¹ UI êµ¬ì¶•
2. ë…¸ì…˜ Webhook ì—°ë™ (ê°€ëŠ¥í•œ ê²½ìš°)
3. ì „ì²´ íŒŒì´í”„ë¼ì¸ í†µí•©

### Phase 4: ìµœì í™” (ì§€ì†ì )
1. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
2. ë¹„ìš© ìµœì í™”
3. í’ˆì§ˆ ê°œì„ 

## ğŸ“ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ í•„ìš”

```bash
# .env íŒŒì¼ì— ì¶”ê°€
ANTHROPIC_API_KEY=your_api_key_here
CARD_NEWS_OUTPUT_DIR=/path/to/output
CARD_NEWS_TEMPLATE_DIR=/path/to/templates
```

## ğŸ” ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ì¶”ì  í•­ëª©
- í¬ë¡¤ë§ëœ ê¸°ì‚¬ ìˆ˜
- LLM ì²˜ë¦¬ ì„±ê³µ/ì‹¤íŒ¨ìœ¨
- Claude API ì‚¬ìš©ëŸ‰ ë° ë¹„ìš©
- ì¹´ë“œë‰´ìŠ¤ ìƒì„± ì‹œê°„
- ì‚¬ìš©ì í”¼ë“œë°± (ê´€ì‹¬ ë¹„ìœ¨)

### ë¡œê·¸ íŒŒì¼
- `logs/crawler_YYYYMMDD.log` - í¬ë¡¤ë§ ë¡œê·¸
- `logs/llm_YYYYMMDD.log` - LLM ì²˜ë¦¬ ë¡œê·¸  
- `logs/claude_YYYYMMDD.log` - ì¹´ë“œë‰´ìŠ¤ ìƒì„± ë¡œê·¸
- `logs/cost_YYYYMM.log` - ì›”ë³„ ë¹„ìš© ì¶”ì 

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **API í‚¤ ë³´ì•ˆ**: ì ˆëŒ€ ì½”ë“œì— ì§ì ‘ ì…ë ¥í•˜ì§€ ì•Šê³  í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©
2. **ë¹„ìš© ê´€ë¦¬**: Claude API ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ í•„ìˆ˜
3. **í’ˆì§ˆ ê²€ì¦**: ìë™ ìƒì„±ëœ ì¹´ë“œë‰´ìŠ¤ ì •ê¸°ì  ê²€í† 
4. **ë°±ì—…**: ìƒì„±ëœ HTML íŒŒì¼ ì •ê¸° ë°±ì—…

## ğŸ¤ í˜‘ì—… ë°©ì•ˆ

### ì‚¬ìš©ì ì—­í• 
- ê´€ì‹¬ ê¸°ì‚¬ ì„ íƒ
- ì¹´ë“œë‰´ìŠ¤ í’ˆì§ˆ ê²€í† 
- í”¼ë“œë°± ì œê³µ

### ì‹œìŠ¤í…œ ì—­í• 
- ìë™ í¬ë¡¤ë§ ë° ìš”ì•½
- ì¹´ë“œë‰´ìŠ¤ ì´ˆì•ˆ ìƒì„±
- ì¼ê´€ëœ ë””ìì¸ ìœ ì§€

---

ì´ ê³„íšì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¨ê³„ì ìœ¼ë¡œ ìë™í™”ë¥¼ êµ¬í˜„í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
ë¨¼ì € ì–´ëŠ ë ˆë²¨ì˜ ìë™í™”ë¥¼ ëª©í‘œë¡œ í•˜ì‹œëŠ”ì§€ ê²°ì •í•´ì£¼ì„¸ìš”.

## ğŸ’° Level 2 ìƒì„¸ ë¹„ìš© ë¶„ì„ (2025ë…„ 6ì›” ì—…ë°ì´íŠ¸)

### Claude API í† í° ì‚¬ìš©ëŸ‰ ìƒì„¸

#### ê¸°ì‚¬ë‹¹ í† í° ë¶„ì„
| êµ¬ë¶„ | í† í° ìˆ˜ | ë¹„ìš© |
|------|---------|------|
| **ì…ë ¥ (Input)** |  |  |
| - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | 500 tokens | $0.0075 |
| - ê¸°ì‚¬ ë°ì´í„° | 1,500 tokens | $0.0225 |
| **ì¶œë ¥ (Output)** |  |  |
| - HTML ìƒì„± | 5,000 tokens | $0.375 |
| - ìˆ˜ì • (ì„ íƒì ) | 2,000 tokens | $0.15 |
| **í•©ê³„** |  |  |
| - ì²« ìƒì„± | 7,000 tokens | $0.405 |
| - ìˆ˜ì • 1íšŒ í¬í•¨ | 9,000 tokens | $0.555 |

### ì›”ê°„ ë¹„ìš© ì‹œë‚˜ë¦¬ì˜¤

#### 1. ìµœì†Œ ì‚¬ìš© (ì›” 20ê°œ)
- ì£¼ 5ê°œ Ã— 4ì£¼ = 20ê°œ
- ë¹„ìš©: $11.10 (ì•½ 15,200ì›)
- ì í•©: í•µì‹¬ ê¸°ì‚¬ë§Œ ì„ ë³„

#### 2. ë³´ìˆ˜ì  ì‚¬ìš© (ì›” 60ê°œ) âœ… ì¶”ì²œ
- ì¼ 2ê°œ Ã— 30ì¼ = 60ê°œ
- ë¹„ìš©: $33.30 (ì•½ 45,700ì›)
- ì í•©: ì¼ë°˜ì ì¸ ìš´ì˜

#### 3. ì ê·¹ì  ì‚¬ìš© (ì›” 150ê°œ)
- ì¼ 5ê°œ Ã— 30ì¼ = 150ê°œ
- ë¹„ìš©: $83.25 (ì•½ 114,300ì›)
- ì í•©: ë‹¤ì–‘í•œ ì½˜í…ì¸  í•„ìš”

### ë¹„ìš© ì ˆê° íŒ
1. **í…œí”Œë¦¿ ì¬ì‚¬ìš©**: ë¹„ìŠ·í•œ ì£¼ì œëŠ” í…œí”Œë¦¿ ìˆ˜ì •ìœ¼ë¡œ ëŒ€ì‘
2. **ì¼ê´„ ì²˜ë¦¬**: ì—¬ëŸ¬ ê¸°ì‚¬ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ì—¬ í”„ë¡¬í”„íŠ¸ ìµœì í™”
3. **ìºì‹±**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ìš”ì†ŒëŠ” ë¡œì»¬ì— ì €ì¥
4. **ì„ ë³„ì  ìˆ˜ì •**: ê¼­ í•„ìš”í•œ ê²½ìš°ë§Œ ì¬ìƒì„±

---

## ğŸš€ êµ¬í˜„ ë¡œë“œë§µ ì—…ë°ì´íŠ¸ (Level 2 ì¤‘ì‹¬)

### Week 1: ê¸°ì´ˆ ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] Gemma2 LLM í™œì„±í™” ë° í…ŒìŠ¤íŠ¸
- [ ] ê´€ì‹¬ ê¸°ì‚¬ ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ ê°œë°œ
- [ ] ê¸°ë³¸ íŒŒì¼ êµ¬ì¡° ì„¤ì •

### Week 2: ì›¹ UI ê°œë°œ
- [ ] Streamlit ì•± ê¸°ë³¸ êµ¬ì¡°
- [ ] Claude API ì—°ë™
- [ ] ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ êµ¬í˜„

### Week 3: í†µí•© ë° ìµœì í™”
- [ ] ì „ì²´ íŒŒì´í”„ë¼ì¸ ì—°ê²°
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜

### Week 4: ë°°í¬ ë° ë¬¸ì„œí™”
- [ ] ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±
- [ ] ë¹„ìš© ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

# ğŸ“‹ Level 2 ë¶€ë¶„ ìë™í™” ìƒì„¸ êµ¬í˜„ ê³„íš

## ğŸ¯ ëª©í‘œ
- ì‚¬ìš©ìê°€ ê´€ì‹¬ í‘œì‹œí•œ ê¸°ì‚¬ë¥¼ ì‰½ê²Œ ì¹´ë“œë‰´ìŠ¤ë¡œ ë³€í™˜
- Claude AIì™€ì˜ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ í’ˆì§ˆ ê´€ë¦¬
- ë¹„ìš© íš¨ìœ¨ì ì¸ ìš´ì˜

## ğŸ”§ êµ¬í˜„ ì»´í¬ë„ŒíŠ¸

### 1. ê´€ì‹¬ ê¸°ì‚¬ ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸
`watch_interested_articles.py`

```python
import time
import json
from datetime import datetime
from notion.notion_client import NotionClient

class InterestMonitor:
    def __init__(self):
        self.notion = NotionClient()
        self.processed_articles = self.load_processed()
        
    def load_processed(self):
        """ì´ë¯¸ ì²˜ë¦¬í•œ ê¸°ì‚¬ ID ë¡œë“œ"""
        try:
            with open('processed_articles.json', 'r') as f:
                return set(json.load(f))
        except:
            return set()
    
    def save_processed(self, article_id):
        """ì²˜ë¦¬ ì™„ë£Œí•œ ê¸°ì‚¬ ID ì €ì¥"""
        self.processed_articles.add(article_id)
        with open('processed_articles.json', 'w') as f:
            json.dump(list(self.processed_articles), f)
    
    def check_new_interests(self):
        """ìƒˆë¡œìš´ ê´€ì‹¬ ê¸°ì‚¬ í™•ì¸"""
        # ëª¨ë“  ì£¼ì°¨ì˜ ê´€ì‹¬ ê¸°ì‚¬ ê°€ì ¸ì˜¤ê¸°
        interested = self.notion.get_interested_articles()
        
        new_articles = []
        for article in interested:
            if article['page_id'] not in self.processed_articles:
                new_articles.append(article)
                
        return new_articles
    
    def run(self, interval=300):  # 5ë¶„ë§ˆë‹¤ ì²´í¬
        """ëª¨ë‹ˆí„°ë§ ì‹¤í–‰"""
        print("ğŸ” ê´€ì‹¬ ê¸°ì‚¬ ëª¨ë‹ˆí„°ë§ ì‹œì‘...")
        
        while True:
            new_articles = self.check_new_interests()
            
            if new_articles:
                print(f"âœ¨ ìƒˆë¡œìš´ ê´€ì‹¬ ê¸°ì‚¬ {len(new_articles)}ê°œ ë°œê²¬!")
                # ì›¹ UIìš© íŒŒì¼ì— ì €ì¥
                with open('pending_cardnews.json', 'w', encoding='utf-8') as f:
                    json.dump(new_articles, f, ensure_ascii=False, indent=2)
            
            time.sleep(interval)
```

### 2. Streamlit ì›¹ UI
`card_news_app.py`

```python
import streamlit as st
import json
from pathlib import Path
import anthropic
from datetime import datetime

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(
    page_title="ì „ë ¥ì‚°ì—… ì¹´ë“œë‰´ìŠ¤ ìƒì„±ê¸°",
    page_icon="âš¡",
    layout="wide"
)

class CardNewsApp:
    def __init__(self):
        self.anthropic_client = None
        self.setup_api()
        
    def setup_api(self):
        """API ì„¤ì •"""
        api_key = st.secrets.get("ANTHROPIC_API_KEY")
        if api_key:
            self.anthropic_client = anthropic.Anthropic(api_key=api_key)
    
    def load_pending_articles(self):
        """ëŒ€ê¸° ì¤‘ì¸ ê¸°ì‚¬ ë¡œë“œ"""
        try:
            with open('pending_cardnews.json', 'r', encoding='utf-8') as f:
                return json.load(f)
        except:
            return []
    
    def generate_card_news(self, article):
        """Claudeë¥¼ í†µí•œ ì¹´ë“œë‰´ìŠ¤ ìƒì„±"""
        prompt = f"""
        ì „ë ¥ì‚°ì—… ê´€ë ¨ ê¸°ì‚¬ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ HTML ì¹´ë“œë‰´ìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì„¸ìš”.
        
        [ê¸°ì‚¬ ì •ë³´]
        ì œëª©: {article['title']}
        ìš”ì•½: {article['summary']}
        í•µì‹¬ë‚´ìš©: {article['content']}
        í‚¤ì›Œë“œ: {', '.join(article.get('keywords', []))}
        
        [ìš”êµ¬ì‚¬í•­]
        1. ë‹¤í¬ í…Œë§ˆ (#0a0a0a ë°°ê²½)
        2. ì£¼ì œì— ë§ëŠ” ìƒ‰ìƒ í…Œë§ˆ ì„ íƒ
        3. íˆì–´ë¡œ ì„¹ì…˜ + í•µì‹¬ ì¸ì‚¬ì´íŠ¸ + ë°ì´í„° ì‹œê°í™” + ì „ë§
        4. ì¸í„°ë™í‹°ë¸Œ ì• ë‹ˆë©”ì´ì…˜ (hover, scroll, counter)
        5. Pretendard í°íŠ¸ ì‚¬ìš©
        6. ë°˜ì‘í˜• ë””ìì¸
        
        ì™„ì „í•œ HTML íŒŒì¼ì„ ìƒì„±í•´ì£¼ì„¸ìš”.
        """
        
        with st.spinner('ğŸ¨ ì¹´ë“œë‰´ìŠ¤ ìƒì„± ì¤‘...'):
            response = self.anthropic_client.messages.create(
                model="claude-3-opus-20240229",
                messages=[{"role": "user", "content": prompt}],
                max_tokens=4000
            )
            
        return response.content[0].text
    
    def run(self):
        """ì•± ì‹¤í–‰"""
        st.title("âš¡ ì „ë ¥ì‚°ì—… ì¹´ë“œë‰´ìŠ¤ ìƒì„±ê¸°")
        
        # ì‚¬ì´ë“œë°”
        with st.sidebar:
            st.header("ğŸ“‹ ì„¤ì •")
            
            # API í‚¤ í™•ì¸
            if not self.anthropic_client:
                st.error("âš ï¸ Anthropic API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
                api_key = st.text_input("API Key", type="password")
                if api_key:
                    self.anthropic_client = anthropic.Anthropic(api_key=api_key)
                    st.success("âœ… API ì—°ê²° ì„±ê³µ!")
            
            # ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
            if st.button("ğŸ”„ ê¸°ì‚¬ ëª©ë¡ ìƒˆë¡œê³ ì¹¨"):
                st.rerun()
        
        # ë©”ì¸ ì»¨í…ì¸ 
        articles = self.load_pending_articles()
        
        if not articles:
            st.info("ğŸ“­ ì¹´ë“œë‰´ìŠ¤ë¡œ ë§Œë“¤ ê´€ì‹¬ ê¸°ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤.")
            return
        
        # ê¸°ì‚¬ ì„ íƒ
        st.header("ğŸ“° ê´€ì‹¬ ê¸°ì‚¬ ëª©ë¡")
        
        # ê¸°ì‚¬ ì¹´ë“œ í‘œì‹œ
        cols = st.columns(2)
        for idx, article in enumerate(articles):
            with cols[idx % 2]:
                with st.container():
                    st.subheader(article['title'])
                    st.caption(f"í‚¤ì›Œë“œ: {', '.join(article.get('keywords', []))}")
                    st.write(article['summary'])
                    
                    if st.button(f"ğŸ¨ ì¹´ë“œë‰´ìŠ¤ ìƒì„±", key=f"gen_{idx}"):
                        self.generate_for_article(article, idx)
    
    def generate_for_article(self, article, idx):
        """íŠ¹ì • ê¸°ì‚¬ì˜ ì¹´ë“œë‰´ìŠ¤ ìƒì„±"""
        st.header(f"ğŸ¨ ì¹´ë“œë‰´ìŠ¤ ìƒì„±: {article['title']}")
        
        # ìƒì„± ì˜µì…˜
        col1, col2 = st.columns(2)
        with col1:
            color_theme = st.selectbox(
                "ìƒ‰ìƒ í…Œë§ˆ",
                ["ìë™ ì„ íƒ", "ESS/ë°°í„°ë¦¬ (ì´ˆë¡/íŒŒë‘)", "íƒœì–‘ê´‘ (ë…¸ë‘/ì£¼í™©)", 
                 "ì •ì±… (íŒŒë‘/ë³´ë¼)", "ë¬¸ì œ/ê²½ê³  (ë¹¨ê°•/ì£¼í™©)"]
            )
        
        with col2:
            emphasis = st.multiselect(
                "ê°•ì¡°í•  ìš”ì†Œ",
                ["ì°¨íŠ¸/ê·¸ë˜í”„", "íƒ€ì„ë¼ì¸", "ë¹„êµ í…Œì´ë¸”", "ì¸ìš©êµ¬", "í†µê³„ ì¹´ìš´í„°"]
            )
        
        if st.button("ğŸš€ ìƒì„± ì‹œì‘"):
            # Claude API í˜¸ì¶œ
            html_content = self.generate_card_news(article)
            
            # ë¯¸ë¦¬ë³´ê¸°
            st.subheader("ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°")
            st.components.v1.html(html_content, height=800, scrolling=True)
            
            # ì €ì¥ ì˜µì…˜
            col1, col2, col3 = st.columns(3)
            
            with col1:
                if st.button("ğŸ’¾ ì €ì¥"):
                    filename = f"detail_{article['title'][:30]}_{datetime.now().strftime('%Y%m%d_%H%M%S')}.html"
                    output_path = Path("detailed") / filename
                    output_path.parent.mkdir(exist_ok=True)
                    
                    with open(output_path, 'w', encoding='utf-8') as f:
                        f.write(html_content)
                    
                    st.success(f"âœ… ì €ì¥ ì™„ë£Œ: {filename}")
                    
                    # ì²˜ë¦¬ ì™„ë£Œ í‘œì‹œ
                    self.mark_as_processed(article['page_id'])
            
            with col2:
                if st.button("âœï¸ ìˆ˜ì • ìš”ì²­"):
                    self.request_modification(html_content, article)
            
            with col3:
                if st.button("ğŸ”„ ë‹¤ì‹œ ìƒì„±"):
                    st.rerun()

if __name__ == "__main__":
    app = CardNewsApp()
    app.run()
```

### 3. í†µí•© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
`run_level2_automation.py`

```python
#!/usr/bin/env python3
import subprocess
import time
from pathlib import Path

def run_monitoring():
    """ë°±ê·¸ë¼ìš´ë“œì—ì„œ ê´€ì‹¬ ê¸°ì‚¬ ëª¨ë‹ˆí„°ë§"""
    subprocess.Popen(['python', 'watch_interested_articles.py'])
    print("âœ… ê´€ì‹¬ ê¸°ì‚¬ ëª¨ë‹ˆí„°ë§ ì‹œì‘")

def run_streamlit():
    """Streamlit ì›¹ UI ì‹¤í–‰"""
    subprocess.run(['streamlit', 'run', 'card_news_app.py'])

def main():
    print("ğŸš€ Level 2 ìë™í™” ì‹œìŠ¤í…œ ì‹œì‘")
    
    # 1. ëª¨ë‹ˆí„°ë§ ì‹œì‘
    run_monitoring()
    
    # 2. ì ì‹œ ëŒ€ê¸°
    time.sleep(2)
    
    # 3. ì›¹ UI ì‹¤í–‰
    print("ğŸŒ ì›¹ UI ì‹œì‘ ì¤‘...")
    print("ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8501 ì ‘ì†")
    run_streamlit()

if __name__ == "__main__":
    main()
```

## ğŸ’¡ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**
- 5ë¶„ë§ˆë‹¤ ë…¸ì…˜ ì²´í¬
- ìƒˆ ê´€ì‹¬ ê¸°ì‚¬ ìë™ ê°ì§€
- JSON íŒŒì¼ë¡œ ìƒíƒœ ê´€ë¦¬

### 2. **ì›¹ ì¸í„°í˜ì´ìŠ¤**
- ê¹”ë”í•œ UIë¡œ ê¸°ì‚¬ ëª©ë¡ í‘œì‹œ
- ì›í´ë¦­ ì¹´ë“œë‰´ìŠ¤ ìƒì„±
- ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
- ìˆ˜ì • ìš”ì²­ ê¸°ëŠ¥

### 3. **í’ˆì§ˆ ê´€ë¦¬**
- ìƒì„± ì „: ìƒ‰ìƒ í…Œë§ˆ, ê°•ì¡° ìš”ì†Œ ì„ íƒ
- ìƒì„± í›„: ë¯¸ë¦¬ë³´ê¸°, ìˆ˜ì •, ì¬ìƒì„±
- ì™„ì„±ë³¸ë§Œ ì €ì¥

### 4. **ë¹„ìš© í†µì œ**
- ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê¸°ì‚¬ë§Œ ìƒì„±
- ìƒì„± íšŸìˆ˜ ì¶”ì 
- ì›”ë³„ ì‚¬ìš©ëŸ‰ ë¦¬í¬íŠ¸

## ğŸ¯ ì¥ì 

1. **ìœ ì—°ì„±**: í•„ìš”í•œ ê¸°ì‚¬ë§Œ ì„ íƒì  ìƒì„±
2. **í’ˆì§ˆ**: ìƒì„± ê³¼ì •ì— ì‚¬ìš©ì ê°œì… ê°€ëŠ¥
3. **ë¹„ìš©**: ì˜ˆì¸¡ ê°€ëŠ¥í•œ API ì‚¬ìš©ëŸ‰
4. **ì‚¬ìš©ì„±**: ì§ê´€ì ì¸ ì›¹ ì¸í„°í˜ì´ìŠ¤
5. **í™•ì¥ì„±**: ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´

## âš ï¸ ë‹¨ì 

1. **ìˆ˜ë™ ê°œì…**: ì™„ì „ ìë™í™” ì•„ë‹˜
2. **ì‹¤í–‰ í•„ìš”**: ì›¹ ì„œë²„ ìƒì‹œ ì‹¤í–‰
3. **ì´ˆê¸° ì„¤ì •**: API í‚¤, í™˜ê²½ êµ¬ì„±

## ğŸ’° ì˜ˆìƒ ë¹„ìš©

- **ì„ íƒì  ìƒì„±**: ì›” 10-30ê°œ ê¸°ì‚¬
- **ë¹„ìš©**: $4-12/ì›” (5,500-16,500ì›)
- **ì™„ì „ ìë™í™” ëŒ€ë¹„ 80% ì ˆê°**

ì´ ë°©ì‹ì´ ê°€ì¥ í˜„ì‹¤ì ì´ê³  ì‹¤ìš©ì ì…ë‹ˆë‹¤!

## ğŸ›¡ï¸ Level 2 ë¹„ìš© ì•ˆì „ì¥ì¹˜ êµ¬í˜„ (2025ë…„ 6ì›” 9ì¼ ì¶”ê°€)

### ë¹„ìš© ê´€ë¦¬ ê¸°ëŠ¥
1. **ì‚¬ì „ ë¹„ìš© ê³ ì§€**
   - ìƒì„± ì „ $0.555 (ì•½ 750ì›) ë¹„ìš© ëª…ì‹œ
   - í˜„ì¬ ì‚¬ìš©ëŸ‰ ì‹¤ì‹œê°„ í‘œì‹œ
   - ì²´í¬ë°•ìŠ¤ í™•ì¸ í•„ìˆ˜

2. **ê³¼ë¹„ìš© ë°©ì§€**
   - ì¼ì¼ í•œë„: $10 (ê¸°ë³¸ê°’, ì¡°ì • ê°€ëŠ¥)
   - ì›”ê°„ í•œë„: $50 (ê¸°ë³¸ê°’, ì¡°ì • ê°€ëŠ¥)
   - í•œë„ ì´ˆê³¼ ì‹œ ìƒì„± ì°¨ë‹¨

3. **ë¹„ìš© ì¶”ì **
   - cost_tracking.json íŒŒì¼ì— ëª¨ë“  ì‚¬ìš© ê¸°ë¡
   - ì¼ë³„/ì›”ë³„ ë¹„ìš© ì°¨íŠ¸ ì œê³µ
   - ë¹„ìš© ë¶„ì„ íƒ­ ì¶”ê°€

### êµ¬í˜„ íŒŒì¼
- `card_news_app.py`: ë¹„ìš© ì•ˆì „ì¥ì¹˜ê°€ í¬í•¨ëœ Streamlit UI
- `card_news_app_original.py`: ì´ì „ ë²„ì „ ë°±ì—…

### í…ŒìŠ¤íŠ¸ ì™„ë£Œ ì‚¬í•­
- âœ… 17ê°œ ê´€ì‹¬ ê¸°ì‚¬ ë°œê²¬ ë° ë¡œë“œ
- âœ… ë¹„ìš© ê²½ê³  ì‹œìŠ¤í…œ êµ¬í˜„
- âœ… í•œë„ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„
- âœ… ì‹¤ì‹œê°„ ë¹„ìš© ì¶”ì  êµ¬í˜„

